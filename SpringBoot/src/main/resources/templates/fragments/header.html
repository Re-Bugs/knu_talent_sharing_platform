<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Header Fragment</title>
</head>
<body>
<div th:fragment="header">
    <header>
        <div class="top-links">
            <a th:if="${isLoggedIn}" href="/mypage">마이페이지</a> <!-- 로그인 되어있으면 마이페이지 표시 -->
            <a th:unless="${isLoggedIn}" href="/register">회원가입</a> <!-- 로그인 안되어있으면 회원 가입 표시 -->
            <a th:if="${isLoggedIn}" href="/logout">로그아웃</a> <!-- 로그인 되어있으면 로그아웃 표시 -->
            <a th:unless="${isLoggedIn}" href="/login">로그인</a> <!-- 로그인 안되어있으면 로그인 표시 -->
        </div>
        <div class="header-content">
            <a href="/" th:href="@{/}">
                <img th:src="@{/images/logo.png}" alt="로고" style="width: 100px; height: auto; margin-right: 10px;">
                <h1><a href="/" th:href="@{/}">KNU 재능 공유 플랫폼</a></h1>
            </a>
            <div class="search-container">
                <form th:action="@{/search}" method="get">
                    <!-- 카테고리 선택 드롭다운 -->
                    <select name="category" required style="padding: 5px; margin-right: 5px; border: 1px solid #ccc; border-radius: 3px;">
                        <option value="">카테고리</option> <!-- 기본 옵션 -->
                        <option value="learning_core">러닝코어</option>
                        <option value="major_learner">메이저러너</option>
                        <option value="challenge_learner">챌린지러너</option>
                    </select>

                    <!-- 검색 입력 필드 -->
                    <input type="text" name="q" placeholder="검색" required style="padding: 5px; border: 1px solid #ccc; border-radius: 3px;">

                    <!-- 검색 버튼 -->
                    <button type="submit" class="search-button" style="background-color: transparent; border: none; cursor: pointer; padding: 0;">
                        <img th:src="@{/images/search_img.png}" alt="검색" style="width: 20px; height: 20px;">
                    </button>
                </form>
            </div>
        </div>
        <nav>
            <ul>
                <li class="dropdown">
                    <a href="/learning_core">러닝코어</a>
                    <ul class="dropdown-menu">
                        <li><a href="#">가르치미</a></li>
                        <li><a href="#">배우미</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="/major_learner">메이저러너</a>
                    <ul class="dropdown-menu">
                        <li><a href="#">전공 학습</a></li>
                        <li><a href="#">신입·재입학</a></li>
                        <li><a href="#">전과·편입학생</a></li>
                    </ul>
                </li>
                <li><a href="/challenge_learner">챌린지러너</a></li>
                <li class="dropdown">
                    <a href="/introduction">커뮤니티</a>
                    <ul class="dropdown-menu">
                        <li><a href="/introduction">사이트 소개</a></li>
                        <li><a href="#">공지사항</a></li>
                        <li><a href="#">불편신고</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
</div>
</body>
</html>